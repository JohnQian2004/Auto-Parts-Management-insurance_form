<section class="login-screen">
  <div class="d-flex align-items-stretch row first-row">
    <div class="col-md-6 p-0 mhs-100 d-flex align-items-center flex-column login-left justify-content-center w-100">
      <div class="w-100 justify-content-center text-center">
        <ng-container *ngIf="this.config.domainName.toLocaleLowerCase() != 'BayCounter.com'.toLocaleLowerCase()">
          <a href="#/autoparts"><img src="../../assets/images/company-logo.png" alt="Our Logo"
              style="height: 70px; margin-top: 50px;" class="img-fluid" /></a>
        </ng-container>
        <ng-container *ngIf="this.config.domainName.toLocaleLowerCase() == 'BayCounter.com'.toLocaleLowerCase()">
          <a href="#/autoparts"><img src="../../assets/images/bayCounterIcon1.png" alt="Our Logo"
              style="height: 90px; margin-top: 50px;" class="img-fluid" /></a>
        </ng-container>
        <h1 class="fw-300 text-uppercase display-5 mt-5 text-center px-4 line-height-150">Login To Your Account</h1>
        <div class="row w-100 my-5">
          <div class="col-lg-2"></div>
          <div class="col-lg-8">
            <hr class="opacity-25" />
            <form *ngIf="!isLoggedIn" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
              <div class="overlap-2 mt-5 text-start">
                <div class="email mt-4 position-relative pt-3">
                  <label for="username"
                    class="form-label mb-3 fw-400 fs-14 d-flex justify-content-between align-items-center">
                    Email Address
                    <div class="form-check form-switch d-flex text-start ms-3">
                      <input class="form-check-input mt-0" type="checkbox" name="rememberedEmail" id="rememberedEmail2"
                        [(ngModel)]="rememberedEmail" (change)="rememberMe(rememberedEmail)" />
                      <label class="form-check-label fs-12 fw-600 mt-1 ms-4" for="rememberedEmail">Remember
                        Email</label>
                    </div>
                    <!-- <span class="ms-auto d-flex align-items-center form-check  form-switch">
                      <input type="checkbox" role="switch" class="form-check-input" [(ngModel)]="rememberedEmail"
                        class="me-1" (change)="rememberMe()" />
                      Remember Email </span> -->
                  </label>

                  <input id="username" type="email" class="form-control" placeholder="Enter Your Email" name="username"
                    minlength="6" maxlength="100" [(ngModel)]="form.username" #username="ngModel"
                    pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                    [ngClass]="{ 'is-invalid':  username.errors }" />
                  <div class="invalid-feedback" *ngIf="username.errors ">
                    <span *ngIf="username.errors['required']">Email is required</span>
                    <span *ngIf="username.errors['pattern']">Email must be a valid email address</span>
                    <span *ngIf="username.errors['minlength']">Email must be at least 6 characters</span>
                    <span *ngIf="username.errors['maxlength']">Email must be at most 100 characters</span>
                  </div>
                </div>
                <div class="password mt-4 position-relative pt-3">
                  <label for="username" class="form-label mb-3 fw-400 fs-14">Password</label>
                  <div class="input-group">
                    <input trimText class="form-control h-48 px-3" [type]="showPassword ? 'text' : 'password'"
                      name="password" [(ngModel)]="form.password" minlength="6" #password="ngModel" maxlength="30"
                      [ngClass]="{ 'is-invalid': password.errors }" placeholder="Enter Your Password" />
                    <div class="input-group-append">
                      <button class="btn btn-outline-secondary" type="button"> <i alt="show" class="far fa-eye eye-show"
                          (click)="showPassword = !showPassword" [class.hide]="showPassword"></i>
                        <i alt="hide" class="far fa-eye-slash eye-hide" (click)="showPassword = !showPassword"
                          [class.hide]="!showPassword"></i></button>
                    </div>
                    <div class="invalid-feedback" *ngIf="password.errors">
                      <span *ngIf="password.errors['required']">Password is required</span>
                      <span *ngIf="password.errors['minlength']">Password must be at least 6 characters</span>
                      <span *ngIf="password.errors['maxlength']">Password must be at most 30 characters</span>
                    </div>
                  </div>

                </div>
                <!-- <div class="password mt-4 position-relative pt-3">
                  <label for="username" class="form-label mb-3 fw-400 fs-14">Enter Your Password</label>
                  <input id="password" type="password" class="form-control" placeholder="Type Your Password"
                    name="password" [(ngModel)]="form.password" required minlength="6" #password="ngModel"
                    [ngClass]="{ 'is-invalid': f.submitted && password.errors }" />
                  <div *ngIf="password.errors && f.submitted" class="invalid-feedback"> <span
                      *ngIf="password.errors['required']">Enter a Password</span> <span
                      *ngIf="password.errors['minlength']">Password must be at least 6 characters</span> </div>
                </div> -->

                <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger mt-4" role="alert">Login failed:
                  {{ errorMessage }}</div>

                <div class="mt-4 position-relative">
                  <button
                    *ngIf="isValidEmail(form.username) && isLoginFailed && errorMessage == 'Wrong password, please enter correct password' && counterFailed >= 1"
                    class="btn btn-link fw-bold text-primary-abs btn-block my-3" (click)="forgetPassword()">Reset
                    Password (Click to receive a reset link via email)
                  </button>

                  <button name="btn"
                    class="btn btn-primary-abs btn-lg btn-block fs-15 py-3 border-radius-8 fw-bold mt-5">LOGIN</button>

                  <!-- <button *ngIf="isValidEmail(form.username)" class="btn btn-link fw-bold text-primary-abs btn-block"
                    (click)="forgetPassword()">Reset Password
                  </button> -->

                  <div class="form-group row d-flex justify-content-center">
                    <button data-bs-toggle="modal" data-bs-target="#resetPassword"
                      class="btn btn-link text-primary-abs fw-bold my-3 shadow-none fs-16">
                      Reset Password
                    </button>

                    <button class="btn btn-link text-primary-abs fw-bold shadow-none fs-16" (click)="register()">
                      Register
                    </button>

                  </div>

                  <button *ngIf="showResentComformation" class="btn btn-secondary-abs border-radius-8 btn-block"
                    (click)="resendEmail()">Resend Activation Email</button>
                  <!-- <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger mt-4" role="alert">Login failed:
                    {{ errorMessage }}</div> -->
                  <!-- <button
                    *ngIf="isLoginFailed && errorMessage == 'Wrong password, please enter correct password' && counterFailed >= 1"
                    class="btn btn-link fw-bold text-primary-abs btn-block" (click)="forgetPassword()">Reset Password
                  </button> -->
                </div>
              </div>
            </form>
          </div>
          <div class="col-lg-2"></div>
        </div>
      </div>
    </div>
    <ng-container *ngIf="this.config.domainName.toLocaleLowerCase() == 'BayCounter.com'.toLocaleLowerCase()">
      <div class="col-md-6 p-0 mhs-100 d-flex align-items-center flex-column justify-content-center w-100 text-center"
        style="background-color: #0065e8;">
        <h3 class="text-white fs-30 text-uppercase fw-500 p-4" style="display: inline-block; word-break: normal;">
          Welcome to {{domainName}}</h3>
        <h4 class="fs-20 text-white fw-300 p-4">{{ domainSlogan}}</h4>

        <img src="../assets/images/baycounterimage4.png" width="667px" height="420px" alt="Laptop"
          class="img-fluid m-4" />
      </div>
    </ng-container>
    <ng-container *ngIf="this.config.domainName.toLocaleLowerCase() != 'BayCounter.com'.toLocaleLowerCase()">
      <div class="col-md-6 p-0 mhs-100 d-flex align-items-center flex-column justify-content-center w-100 text-center"
        style="background: url('../assets/images/loginbg.png') no-repeat center center;background-attachment:fixed;background-size:cover;">
        <h4 class="fs-20 text-white fw-300 p-4">{{ domainSlogan}}</h4>
        <h3 class="text-white fs-30 text-uppercase fw-500 p-4" style="display: inline-block; word-break: normal;">
          Welcome to {{domainName}}</h3>
        <img src="../assets/images/Laptop.png" width="667px" height="420px" alt="Laptop" class="img-fluid m-4" />
      </div>
    </ng-container>
  </div>
</section>

<div class="modal fade center" id="resetPassword" style="width: 800px" data-bs-backdrop="static"
  data-bs-keyboard="false" tabindex="-1" aria-labelledby="resetPasswordLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content border-radius-8">
      <div class="modal-header p-4">
        <h1 class="modal-title fs-20 fw-600 text-capitalize" id="resetPasswordLabel">Reset Password </h1>
        <button type="button" class="btn-close mt-1" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body px-2">
        <form name="form" (ngSubmit)="f.form.valid && forgetPassword2()" #f="ngForm" novalidate>
          <div class="row">
            <div class="col-md-12">
              <div class="mt-4 pt-1">
                <label for="username" class="form-label fs-14 fw-400 mb-3">Enter Your Email </label>

                <input id="username" type="email" class="form-control" placeholder="name@domain.com" name="username"
                  minlength="6" maxlength="100" [(ngModel)]="form.username" required #username="ngModel"
                  pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                  [ngClass]="{ 'is-invalid':  username.errors }" />
                <div class="invalid-feedback" *ngIf="username.errors ">
                  <span *ngIf="username.errors['required']">Email is required</span>
                  <span *ngIf="username.errors['pattern']">Email must be a valid email address</span>
                  <span *ngIf="username.errors['minlength']">Email must be at least 6 characters</span>
                  <span *ngIf="username.errors['maxlength']">Email must be at most 100 characters</span>
                </div>
              </div>
            </div>
            <div class="col-md-12 py-4 mt-4" *ngIf="errorMessageResetPassword != ''">
              <span class="alert alert-success line-height-150" role="alert">{{errorMessageResetPassword}}</span>
            </div>
          </div>
          <div class="d-flex align-items-center gap-3 mt-4 px-3">
            <button class="btn btn-primary-abs h-45 px-4 rounded-4 fs-14 fw-600">Reset
              Password (Click to receive
              a reset link via email)</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>